{
  "db_name": "PostgreSQL",
  "query": "\n                INSERT INTO devices_projection\n                    (device_id, user_id, name, device_type, platform, first_seen, last_seen, trust_level, login_count, last_event_timestamp)\n                VALUES ($1, $2, $3, $4::device_type, $5, $6, $6, 'unknown'::device_trust_level, 0, $7)\n                ON CONFLICT (device_id) DO UPDATE SET\n                    user_id = EXCLUDED.user_id,\n                    name = EXCLUDED.name,\n                    device_type = EXCLUDED.device_type,\n                    platform = EXCLUDED.platform,\n                    first_seen = EXCLUDED.first_seen,\n                    last_seen = EXCLUDED.last_seen,\n                    last_event_timestamp = EXCLUDED.last_event_timestamp\n                WHERE devices_projection.last_event_timestamp < EXCLUDED.last_event_timestamp\n                ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        "Uuid",
        "Text",
        {
          "Custom": {
            "name": "device_type",
            "kind": {
              "Enum": [
                "mobile",
                "desktop",
                "tablet",
                "unknown"
              ]
            }
          }
        },
        "Text",
        "Timestamptz",
        "Timestamptz"
      ]
    },
    "nullable": []
  },
  "hash": "6f8d37cf78143a9009d3ea823f36288828ca94198751154a1bf01bee24677ee5"
}
